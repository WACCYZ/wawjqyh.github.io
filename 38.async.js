(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{"0VV6":function(s,a){s.exports='<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank">\u539f\u6587\u94fe\u63a5</a>\n<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank">en</a></p>\n<h1 id="objectassign">Object.assign()</h1>\n<p>Object.assign() \u65b9\u6cd5\u7528\u4e8e\u5c06\u6240\u6709\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u7684\u503c\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u6e90\u5bf9\u8c61\u590d\u5236\u5230\u76ee\u6807\u5bf9\u8c61\u3002\u5b83\u5c06\u8fd4\u56de\u76ee\u6807\u5bf9\u8c61\u3002</p>\n<h2 id="\u8bed\u6cd5">\u8bed\u6cd5</h2>\n<pre><code class="language-javascript"><span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.assign</span>(<span class="hljs-selector-tag">target</span>, ..<span class="hljs-selector-class">.sources</span>)</code></pre>\n<h3 id="\u53c2\u6570">\u53c2\u6570</h3>\n<ul>\n<li><code>target</code> \u76ee\u6807\u5bf9\u8c61</li>\n<li><code>sources</code> (\u591a\u4e2a)\u6e90\u5bf9\u8c61</li>\n</ul>\n<h3 id="\u8fd4\u56de\u503c">\u8fd4\u56de\u503c</h3>\n<p>\u76ee\u6807\u5bf9\u8c61</p>\n<h2 id="\u63cf\u8ff0">\u63cf\u8ff0</h2>\n<p>\u5982\u679c\u76ee\u6807\u5bf9\u8c61\u4e2d\u7684\u5c5e\u6027\u5177\u6709\u76f8\u540c\u7684\u952e\uff0c\u5219\u5c5e\u6027\u5c06\u88ab\u6e90\u4e2d\u7684\u5c5e\u6027\u8986\u76d6\u3002\u540e\u6765\u7684\u6e90\u7684\u5c5e\u6027\u5c06\u7c7b\u4f3c\u5730\u8986\u76d6\u65e9\u5148\u7684\u5c5e\u6027\u3002</p>\n<p>Object.assign \u65b9\u6cd5\u53ea\u4f1a\u62f7\u8d1d\u6e90\u5bf9\u8c61\u81ea\u8eab\u7684\u5e76\u4e14\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u5230\u76ee\u6807\u5bf9\u8c61\u8eab\u4e0a\u3002\u8be5\u65b9\u6cd5\u4f7f\u7528\u6e90\u5bf9\u8c61\u7684 [ [ Get ] ] \u548c\u76ee\u6807\u5bf9\u8c61\u7684\n[ [ Set ] ]\uff0c\u6240\u4ee5\u5b83\u4f1a\u8c03\u7528\u76f8\u5173 getter \u548c setter\u3002\u56e0\u6b64\uff0c\u5b83\u5206\u914d\u5c5e\u6027\u800c\u4e0d\u662f\u590d\u5236\u6216\u5b9a\u4e49\u65b0\u7684\u5c5e\u6027\u3002\u5982\u679c\u5408\u5e76\u6e90\u5305\u542b\u4e86 getter\uff0c\n\u90a3\u4e48\u8be5\u65b9\u6cd5\u5c31\u4e0d\u9002\u5408\u5c06\u65b0\u5c5e\u6027\u5408\u5e76\u5230\u539f\u578b\u91cc\u3002\u5047\u5982\u662f\u62f7\u8d1d\u5c5e\u6027\u5b9a\u4e49\u5230\u539f\u578b\u91cc\uff0c\u5305\u62ec\u5b83\u4eec\u7684\u53ef\u679a\u4e3e\u6027\uff0c\u90a3\u4e48\u5e94\u8be5\u4f7f\u7528 Object.getOwnPropertyDescriptor()\n\u548c Object.defineProperty() \u3002</p>\n<p>String\u7c7b\u578b\u548c Symbol \u7c7b\u578b\u7684\u5c5e\u6027\u90fd\u4f1a\u88ab\u62f7\u8d1d\u3002</p>\n<p>\u6ce8\u610f\uff0c\u5728\u5c5e\u6027\u62f7\u8d1d\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u4ea7\u751f\u5f02\u5e38\uff0c\u6bd4\u5982\u76ee\u6807\u5bf9\u8c61\u7684\u67d0\u4e2a\u53ea\u8bfb\u5c5e\u6027\u548c\u6e90\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u540c\u540d\uff0c\u8fd9\u65f6\u8be5\u65b9\u6cd5\u4f1a\u629b\u51fa\u4e00\u4e2a TypeError\n\u5f02\u5e38\uff0c\u62f7\u8d1d\u8fc7\u7a0b\u4e2d\u65ad\uff0c\u5df2\u7ecf\u62f7\u8d1d\u6210\u529f\u7684\u5c5e\u6027\u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u8fd8\u672a\u62f7\u8d1d\u7684\u5c5e\u6027\u5c06\u4e0d\u4f1a\u518d\u88ab\u62f7\u8d1d\u3002</p>\n<p><code>\u6ce8\u610f\uff0c Object.assign \u4f1a\u8df3\u8fc7\u90a3\u4e9b\u503c\u4e3a null \u6216 undefined \u7684\u6e90\u5bf9\u8c61\u3002</code></p>\n<h2 id="\u793a\u4f8b">\u793a\u4f8b</h2>\n<h3 id="\u590d\u5236\u4e00\u4e2a-object">\u590d\u5236\u4e00\u4e2a object</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> obj = <span class="hljs-comment">{ a: 1 }</span>;\n<span class="hljs-keyword">var</span> <span class="hljs-keyword">copy</span> = Object.assign(<span class="hljs-comment">{}</span>, obj);\nconsole.log(<span class="hljs-keyword">copy</span>); <span class="hljs-comment">// { a: 1 }</span></code></pre>\n<h3 id="\u6df1\u5ea6\u62f7\u8d1d\u95ee\u9898">\u6df1\u5ea6\u62f7\u8d1d\u95ee\u9898</h3>\n<p>\u9488\u5bf9\u6df1\u5ea6\u62f7\u8d1d\uff0c\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\uff0c\u56e0\u4e3a Object.assign() \u62f7\u8d1d\u7684\u662f\u5c5e\u6027\u503c\u3002\u5047\u5982\u6e90\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u662f\u4e00\u4e2a\u6307\u5411\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u5b83\u4e5f\u53ea\u62f7\u8d1d\u90a3\u4e2a\u5f15\u7528\u503c\u3002</p>\n<pre><code class="language-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>{\n  <span class="hljs-keyword">let</span> a = { <span class="hljs-attr">b</span>: {<span class="hljs-attr">c</span>:<span class="hljs-number">4</span>} , <span class="hljs-attr">d</span>: { <span class="hljs-attr">e</span>: {<span class="hljs-attr">f</span>:<span class="hljs-number">1</span>}} }\n  <span class="hljs-keyword">let</span> g = <span class="hljs-built_in">Object</span>.assign({},a)\n  <span class="hljs-keyword">let</span> h = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(a));\n  <span class="hljs-built_in">console</span>.log(g.d) <span class="hljs-comment">// { e: { f: 1 } }</span>\n  g.d.e = <span class="hljs-number">32</span>\n  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">\'g.d.e set to 32.\'</span>) <span class="hljs-comment">// g.d.e set to 32.</span>\n  <span class="hljs-built_in">console</span>.log(g) <span class="hljs-comment">// { b: { c: 4 }, d: { e: 32 } }</span>\n  <span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// { b: { c: 4 }, d: { e: 32 } }</span>\n  <span class="hljs-built_in">console</span>.log(h) <span class="hljs-comment">// { b: { c: 4 }, d: { e: { f: 1 } } }</span>\n  h.d.e = <span class="hljs-number">54</span>\n  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">\'h.d.e set to 54.\'</span>) <span class="hljs-comment">// h.d.e set to 54.</span>\n  <span class="hljs-built_in">console</span>.log(g) <span class="hljs-comment">// { b: { c: 4 }, d: { e: 32 } }</span>\n  <span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// { b: { c: 4 }, d: { e: 32 } }</span>\n  <span class="hljs-built_in">console</span>.log(h) <span class="hljs-comment">// { b: { c: 4 }, d: { e: 54 } }</span>\n}\ntest();</code></pre>\n<h3 id="\u5408\u5e76-objects">\u5408\u5e76 objects</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> o1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };\n<span class="hljs-keyword">var</span> o2 = { <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };\n<span class="hljs-keyword">var</span> o3 = { <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };\n\n<span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.assign(o1, o2, o3);\n<span class="hljs-built_in">console</span>.log(obj); <span class="hljs-comment">// { a: 1, b: 2, c: 3 }</span>\n<span class="hljs-built_in">console</span>.log(o1);  <span class="hljs-comment">// { a: 1, b: 2, c: 3 }, \u6ce8\u610f\u76ee\u6807\u5bf9\u8c61\u81ea\u8eab\u4e5f\u4f1a\u6539\u53d8\u3002</span></code></pre>\n<h3 id="\u62f7\u8d1d-symbol-\u7c7b\u578b\u7684\u5c5e\u6027">\u62f7\u8d1d symbol \u7c7b\u578b\u7684\u5c5e\u6027</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> o1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };\n<span class="hljs-keyword">var</span> o2 = { [<span class="hljs-built_in">Symbol</span>(<span class="hljs-string">"foo"</span>)]: <span class="hljs-number">2</span> };\n\n<span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.assign({}, o1, o2);\n<span class="hljs-built_in">console</span>.log(obj); <span class="hljs-comment">// { a: 1, [Symbol("foo")]: 2 }</span></code></pre>\n<h3 id="\u7ee7\u627f\u5c5e\u6027\u548c\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u662f\u4e0d\u80fd\u62f7\u8d1d\u7684">\u7ee7\u627f\u5c5e\u6027\u548c\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u662f\u4e0d\u80fd\u62f7\u8d1d\u7684</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.create({<span class="hljs-attr">foo</span>: <span class="hljs-number">1</span>}, { <span class="hljs-comment">// foo \u662f\u4e2a\u7ee7\u627f\u5c5e\u6027\u3002</span>\n    bar: {\n        <span class="hljs-attr">value</span>: <span class="hljs-number">2</span>  <span class="hljs-comment">// bar \u662f\u4e2a\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u3002</span>\n    },\n    <span class="hljs-attr">baz</span>: {\n        <span class="hljs-attr">value</span>: <span class="hljs-number">3</span>,\n        <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// baz \u662f\u4e2a\u81ea\u8eab\u53ef\u679a\u4e3e\u5c5e\u6027\u3002</span>\n    }\n});\n\n<span class="hljs-keyword">var</span> copy = <span class="hljs-built_in">Object</span>.assign({}, obj);\n<span class="hljs-built_in">console</span>.log(copy); <span class="hljs-comment">// { baz: 3 }</span></code></pre>\n<h3 id="\u539f\u59cb\u7c7b\u578b\u4f1a\u88ab\u5305\u88c5\u4e3a-object">\u539f\u59cb\u7c7b\u578b\u4f1a\u88ab\u5305\u88c5\u4e3a object</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> v1 = <span class="hljs-string">"abc"</span>;\n<span class="hljs-keyword">var</span> v2 = <span class="hljs-literal">true</span>;\n<span class="hljs-keyword">var</span> v3 = <span class="hljs-number">10</span>;\n<span class="hljs-keyword">var</span> v4 = <span class="hljs-built_in">Symbol</span>(<span class="hljs-string">"foo"</span>)\n\n<span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">Object</span>.assign({}, v1, <span class="hljs-literal">null</span>, v2, <span class="hljs-literal">undefined</span>, v3, v4);\n<span class="hljs-comment">// \u539f\u59cb\u7c7b\u578b\u4f1a\u88ab\u5305\u88c5\uff0cnull \u548c undefined \u4f1a\u88ab\u5ffd\u7565\u3002</span>\n<span class="hljs-comment">// \u6ce8\u610f\uff0c\u53ea\u6709\u5b57\u7b26\u4e32\u7684\u5305\u88c5\u5bf9\u8c61\u624d\u53ef\u80fd\u6709\u81ea\u8eab\u53ef\u679a\u4e3e\u5c5e\u6027\u3002</span>\n<span class="hljs-built_in">console</span>.log(obj); <span class="hljs-comment">// { "0": "a", "1": "b", "2": "c" }</span></code></pre>\n<h3 id="\u5f02\u5e38\u4f1a\u6253\u65ad\u63a5\u4e0b\u6765\u7684\u62f7\u8d1d\u4efb\u52a1">\u5f02\u5e38\u4f1a\u6253\u65ad\u63a5\u4e0b\u6765\u7684\u62f7\u8d1d\u4efb\u52a1</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> target = <span class="hljs-built_in">Object</span>.defineProperty({}, <span class="hljs-string">"foo"</span>, {\n    <span class="hljs-attr">value</span>: <span class="hljs-number">1</span>,\n    <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span>\n}); <span class="hljs-comment">// target \u7684 foo \u5c5e\u6027\u662f\u4e2a\u53ea\u8bfb\u5c5e\u6027\u3002</span>\n\n<span class="hljs-built_in">Object</span>.assign(target, {<span class="hljs-attr">bar</span>: <span class="hljs-number">2</span>}, {<span class="hljs-attr">foo2</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">foo</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">foo3</span>: <span class="hljs-number">3</span>}, {<span class="hljs-attr">baz</span>: <span class="hljs-number">4</span>});\n<span class="hljs-comment">// TypeError: "foo" is read-only</span>\n<span class="hljs-comment">// \u6ce8\u610f\u8fd9\u4e2a\u5f02\u5e38\u662f\u5728\u62f7\u8d1d\u7b2c\u4e8c\u4e2a\u6e90\u5bf9\u8c61\u7684\u7b2c\u4e8c\u4e2a\u5c5e\u6027\u65f6\u53d1\u751f\u7684\u3002</span>\n\n<span class="hljs-built_in">console</span>.log(target.bar);  <span class="hljs-comment">// 2\uff0c\u8bf4\u660e\u7b2c\u4e00\u4e2a\u6e90\u5bf9\u8c61\u62f7\u8d1d\u6210\u529f\u4e86\u3002</span>\n<span class="hljs-built_in">console</span>.log(target.foo2); <span class="hljs-comment">// 3\uff0c\u8bf4\u660e\u7b2c\u4e8c\u4e2a\u6e90\u5bf9\u8c61\u7684\u7b2c\u4e00\u4e2a\u5c5e\u6027\u4e5f\u62f7\u8d1d\u6210\u529f\u4e86\u3002</span>\n<span class="hljs-built_in">console</span>.log(target.foo);  <span class="hljs-comment">// 1\uff0c\u53ea\u8bfb\u5c5e\u6027\u4e0d\u80fd\u88ab\u8986\u76d6\uff0c\u6240\u4ee5\u7b2c\u4e8c\u4e2a\u6e90\u5bf9\u8c61\u7684\u7b2c\u4e8c\u4e2a\u5c5e\u6027\u62f7\u8d1d\u5931\u8d25\u4e86\u3002</span>\n<span class="hljs-built_in">console</span>.log(target.foo3); <span class="hljs-comment">// undefined\uff0c\u5f02\u5e38\u4e4b\u540e assign \u65b9\u6cd5\u5c31\u9000\u51fa\u4e86\uff0c\u7b2c\u4e09\u4e2a\u5c5e\u6027\u662f\u4e0d\u4f1a\u88ab\u62f7\u8d1d\u5230\u7684\u3002</span>\n<span class="hljs-built_in">console</span>.log(target.baz);  <span class="hljs-comment">// undefined\uff0c\u7b2c\u4e09\u4e2a\u6e90\u5bf9\u8c61\u66f4\u662f\u4e0d\u4f1a\u88ab\u62f7\u8d1d\u5230\u7684\u3002</span></code></pre>\n<h3 id="\u62f7\u8d1d\u8bbf\u95ee\u5668\uff08accessor\uff09">\u62f7\u8d1d\u8bbf\u95ee\u5668\uff08accessor\uff09</h3>\n<pre><code class="language-javascript"><span class="hljs-keyword">var</span> obj = {\n  <span class="hljs-attr">foo</span>: <span class="hljs-number">1</span>,\n  <span class="hljs-keyword">get</span> bar() {\n    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;\n  }\n};\n\n<span class="hljs-keyword">var</span> copy = <span class="hljs-built_in">Object</span>.assign({}, obj);\n<span class="hljs-comment">// { foo: 1, bar: 2 }</span>\n<span class="hljs-comment">// copy.bar\u7684\u503c\u6765\u81eaobj.bar\u7684getter\u51fd\u6570\u7684\u8fd4\u56de\u503c</span>\n<span class="hljs-built_in">console</span>.log(copy);\n\n<span class="hljs-comment">// \u4e0b\u9762\u8fd9\u4e2a\u51fd\u6570\u4f1a\u62f7\u8d1d\u6240\u6709\u81ea\u6709\u5c5e\u6027\u7684\u5c5e\u6027\u63cf\u8ff0\u7b26</span>\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">completeAssign</span>(<span class="hljs-params">target, ...sources</span>) </span>{\n  sources.forEach(<span class="hljs-function"><span class="hljs-params">source</span> =&gt;</span> {\n    <span class="hljs-keyword">let</span> descriptors = <span class="hljs-built_in">Object</span>.keys(source).reduce(<span class="hljs-function">(<span class="hljs-params">descriptors, key</span>) =&gt;</span> {\n      descriptors[key] = <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(source, key);\n      <span class="hljs-keyword">return</span> descriptors;\n    }, {});\n\n    <span class="hljs-comment">// Object.assign \u9ed8\u8ba4\u4e5f\u4f1a\u62f7\u8d1d\u53ef\u679a\u4e3e\u7684Symbols</span>\n    <span class="hljs-built_in">Object</span>.getOwnPropertySymbols(source).forEach(<span class="hljs-function"><span class="hljs-params">sym</span> =&gt;</span> {\n      <span class="hljs-keyword">let</span> descriptor = <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(source, sym);\n      <span class="hljs-keyword">if</span> (descriptor.enumerable) {\n        descriptors[sym] = descriptor;\n      }\n    });\n    <span class="hljs-built_in">Object</span>.defineProperties(target, descriptors);\n  });\n  <span class="hljs-keyword">return</span> target;\n}\n\n<span class="hljs-keyword">var</span> copy = completeAssign({}, obj);\n<span class="hljs-comment">// { foo:1, get bar() { return 2 } }</span>\n<span class="hljs-built_in">console</span>.log(copy);</code></pre>\n<h2 id="\u89c4\u8303">\u89c4\u8303</h2>\n<table>\n<thead>\n<tr>\n<th align="left">Specification</th>\n<th align="left">Status</th>\n<th align="left">Comment</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align="left">ECMAScript 2015 (6th Edition, ECMA-262)</td>\n<td align="left">Standard</td>\n<td align="left">Initial definition</td>\n</tr>\n</tbody></table>\n'}}]);